package ${packageName}.service.impl;

import java.util.List;
import org.springframework.beans.factory.annotation.Autowired;
import org.springframework.stereotype.Service;
import org.slf4j.Logger;
import org.slf4j.LoggerFactory;
import com.baomidou.mybatisplus.extension.service.impl.ServiceImpl;
import com.baomidou.mybatisplus.core.conditions.query.QueryWrapper;
import com.baomidou.mybatisplus.core.metadata.IPage;
import com.baomidou.mybatisplus.extension.plugins.pagination.Page;

import com.rufeng.core.framework.db.Pager;
import com.rufeng.core.framework.web.ResultData;
import ${packageName}.mapper.I${ClassName}Dao;
import ${packageName}.domain.po.${ClassName};
import ${packageName}.service.I${ClassName}Service;

/**
 * ${functionName}Service业务层处理
 *
 * @author ${author}
 * @date ${datetime}
 */
@Service
public class ${ClassName}ServiceImpl extends ServiceImpl<I${ClassName}Dao, ${ClassName}> implements I${ClassName}Service {
    private Logger log = LoggerFactory.getLogger(${ClassName}ServiceImpl.class);

    @Autowired
    private I${ClassName}Dao ${className}Dao;

    /**
     * 查询${functionName}
     *
     * @param ${pkColumn.javaField} ${functionName}ID
     * @return ${functionName}
     */
    @Override
    public ResultData get(${pkColumn.javaType} ${pkColumn.javaField}) {
        log.debug("[服务] 开始根据${pkColumn.javaField}查询${functionName} ${pkColumn.javaField}=[{}]. ", ${pkColumn.javaField});
        //These code is generated by machine, if you want to modify the code, suggest you to remove this line
        ResultData resData = ResultData.init();
        ${ClassName} ${className} = getById(${pkColumn.javaField});
        resData.setData("${className}", ${className});
        log.info("[服务] 完成根据${pkColumn.javaField}查询${functionName} ResultData=[{}]", resData);
        return resData;
    }

    /**
     * 查询${functionName}列表
     *
     * @param ${className} ${functionName}
     * @return ${functionName}
     */
    @Override
    public ResultData list(${ClassName} ${className}) {
        log.debug("[服务] 开始根据条件{}查询参数配置", ${className});
        //These code is generated by machine, if you want to modify the code, suggest you to remove this line
        ResultData resData = ResultData.init();
        QueryWrapper<${ClassName}> ${className}Wrapper = new QueryWrapper<>();
        ${className}Wrapper.setEntity(${className});
        List<${ClassName}> ${className}s = list(${className}Wrapper);
        resData.setData("${className}s", ${className}s);
        log.info("[服务] 完成查询参数配置 ResultData=[{}]", resData);
        return resData;
    }

    /**
     * 查询${functionName}列表
     *
     * @param ${className} ${functionName}
     * @return ${functionName}
     */
    @Override
    public ResultData listPager(${ClassName} ${className}, Pager pager) {
        log.debug("[服务] 开始根据条件{}分页查询${functionName}", ${className});
        //These code is generated by machine, if you want to modify the code, suggest you to remove this line
        ResultData resData = ResultData.init();
        Page<${ClassName}> pageParam = new Page<>(pager.getCurrentPage(), pager.getTotalSize()); // 当前页码，每页条数
        QueryWrapper<${ClassName}> ${className}Wrapper = new QueryWrapper<>();
        ${className}Wrapper.setEntity(${className});
        Page<${ClassName}> page = page(pageParam, ${className}Wrapper);
        resData.setData("data", page);
        log.info("[服务] 完成根据条件{}分页查询${functionName} ResultData=[{}]", resData);
        return resData;
    }

    /**
     * 新增${functionName}
     *
     * @param ${className} ${functionName}
     * @return 结果
     */
    @Override
    public ResultData add(${ClassName} ${className}) {
        log.debug("[服务] 开始添加新增${functionName}, ${className}=[{}]", ${className});
        //These code is generated by machine, if you want to modify the code, suggest you to remove this line
        ResultData resData = ResultData.init();
        boolean flag = save(${className});
        resData.setData("flag", flag);
        log.info("[服务] 完成新增${functionName}，ResultData=[{}]", resData);
        return resData;
    }

    /**
     * 修改${functionName}
     *
     * @param ${className} ${functionName}
     * @return 结果
     */
    @Override
    public ResultData update(${ClassName} ${className}) {
        log.debug("[服务] 开始根据条件{}修改${functionName},sysconfig=[{}]", ${className});
        //These code is generated by machine, if you want to modify the code, suggest you to remove this line
        ResultData resData = ResultData.init();
        boolean flag = updateById(${className});
        resData.setData("flag", flag);
        log.info("[服务] 完成修改参数配置，resData=[{}]", resData);
        return resData;
    }

    /**
     * 删除${functionName}信息
     *
     * @param ${pkColumn.javaField} ${functionName}ID
     * @return 结果
     */
    @Override
    public ResultData delete(${pkColumn.javaType} ${pkColumn.javaField}) {
        log.debug("[服务] 开始根据条件id{}删除${functionName},${pkColumn.javaField}=[{}]", ${pkColumn.javaField});
        //These code is generated by machine, if you want to modify the code, suggest you to remove this line
        ResultData resData = ResultData.init();
        boolean flag = removeById(${pkColumn.javaField});
        resData.setData("flag", flag);
        log.info("[服务] 完成删除参数配置，resData=[{}]", resData);
        return resData;
    }
}
